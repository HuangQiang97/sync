1，心跳：外部检测因为外部随机性（涉及网络通信心跳频率受限、未收到心跳时间阈值、网络延迟、IO瓶颈等）无法实时反应结果。 内部检测直接监控系统核心组件的运行状态，做到实时检测。

2，秒杀：数据库库存判断，数据库并发有限，同时在mvcc下多个请求会同时发现有库存，导致超卖，如果判断库存使用select for update 变相将隔离基本变为串行化，避免超卖，但性能受限，事务周期太长。redis节点性能高，数据操作单线程，天生满足串行化，避免超卖。

3，NoSQL 数据库解决扩展性：

* 水平扩展：按特定的键进行分片，每个分片存储在不同的节点上。查询时根据分片键定位到具体的节点进行操作，通过增加更多的节点来平衡负载。（MongoDB、Cassandra、Redis）

* 采用去中心化的架构，每个节点都是对等的，能够独立处理数据的读写操作，避免了单点故障问题。

    一致性哈希：将数据均匀分布到不同节点上，确保扩展集群时，数据重新分布的成本较低。
    主从复制：Redis 支持主从复制架构，通过分配读取请求到多个副本节点，提高查询性能

* 无模式设计：数据可以以任意结构存储，展时无需进行复杂的数据迁移操作。（如 MongoDB）

* 数据复制与一致性模型：多副本数据复制来提高扩展性和数据可用性。最终一致性：副本之间的同步可能有延迟，但最终会达到一致，允许系统在高并发写入和数据量增长的情况下提供更高的吞吐量和性能。读写分离：更好地平衡负载，避免单一节点成为瓶颈。

* 分布式存储与容错：多个节点上存储数据来提高容错性和扩展性，自动异常检测和选举。
